-- 테이블 생성

CREATE TABLE MEMBER(
	MID VARCHAR2(200) PRIMARY KEY,
	MPASS VARCHAR2(200) NOT NULL,
	MNAME NVARCHAR2(200) NOT NULL,
	MREGDATE TIMESTAMP,
	MDELYN CHAR(1) CHECK(MDELYN IN('Y','N'))
);

CREATE TABLE BOARD(
	BID NUMBER PRIMARY KEY,
	BNAME VARCHAR2(20) NOT NULL,
	BREGDATE TIMESTAMP,
	BDELYN CHAR(1) CHECK(BDELYN IN('Y','N'))
);

CREATE TABLE ARTICLE(
	AID NUMBER PRIMARY KEY,
	ATITLE NVARCHAR2(1000) NOT NULL,
	ACONTENT NVARCHAR2(2000),
	AREGDATE TIMESTAMP,
	ACOUNT NUMBER,
	AFCOUNT NUMBER,
	ADELYN CHAR(1) CHECK(ADELYN IN('Y','N')),
	MID VARCHAR2(200),
	BID NUMBER,
	FOREIGN KEY(MID) REFERENCES MEMBER(MID),
	FOREIGN KEY(BID) REFERENCES BOARD(BID)
);

CREATE TABLE REPLY(
	RID NUMBER PRIMARY KEY,
	RCONTENT NVARCHAR2(2000),
	RREGDATE TIMESTAMP,
	RDELYN CHAR(1) CHECK(RDELYN IN('Y','N')),
	MID VARCHAR2(200),
	AID NUMBER,
	FOREIGN KEY(MID) REFERENCES MEMBER(MID),
	FOREIGN KEY(AID) REFERENCES ARTICLE(AID)
);

CREATE TABLE AFILE(
	AFID VARCHAR2(20) PRIMARY KEY,
	AFSFNAME VARCHAR2(500) NOT NULL,
	AFCFNAME VARCHAR2(500) NOT NULL,
	AFREGDATE TIMESTAMP,
	AFDELYN CHAR(1) CHECK(AFDELYN IN('Y','N')),
	AID NUMBER,
	FOREIGN KEY(AID) REFERENCES ARTICLE(AID)
);

-- 시퀀스 생성
CREATE SEQUENCE SEQ_BOARD;
CREATE SEQUENCE SEQ_ARTICLE;
CREATE SEQUENCE SEQ_REPLY;
CREATE SEQUENCE SEQ_AFILE;

-- 더미 데이터 입력 
INSERT INTO MEMBER VALUES('HONG','HONG','홍길동',SYSDATE,'N');
INSERT INTO MEMBER VALUES('KANG','KANG','강감찬',SYSDATE,'N');
INSERT INTO MEMBER VALUES('LEE','LEE','이순신',SYSDATE,'N');
COMMIT;
SELECT * FROM MEMBER;

INSERT INTO BOARD VALUES(SEQ_BOARD.NEXTVAL,'자유게시판',SYSDATE,'N');
INSERT INTO BOARD VALUES(SEQ_BOARD.NEXTVAL,'사진게시판',SYSDATE,'N');
INSERT INTO BOARD VALUES(SEQ_BOARD.NEXTVAL,'공지게시판',SYSDATE,'N');
COMMIT;
SELECT * FROM BOARD;

INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','HONG',1);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','HONG',1);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','HONG',2);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','HONG',2);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','HONG',3);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','KANG',2);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','KANG',2);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','KANG',2);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','KANG',3);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','KANG',3);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','LEE',1);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','LEE',1);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','LEE',1);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','LEE',3);
INSERT INTO ARTICLE VALUES(SEQ_ARTICLE.NEXTVAL,'제목','내용',SYSDATE,0,0,'N','LEE',3);
COMMIT;
SELECT * FROM ARTICLE;

INSERT INTO REPLY VALUES(SEQ_REPLY.NEXTVAL, '댓글', SYSDATE, 'N', 1, 'HONG');
INSERT INTO REPLY VALUES(SEQ_REPLY.NEXTVAL, '댓글', SYSDATE, 'N', 1, 'HONG');
INSERT INTO REPLY VALUES(SEQ_REPLY.NEXTVAL, '댓글', SYSDATE, 'N', 1, 'HONG');
INSERT INTO REPLY VALUES(SEQ_REPLY.NEXTVAL, '댓글', SYSDATE, 'N', 1, 'HONG');
INSERT INTO REPLY VALUES(SEQ_REPLY.NEXTVAL, '댓글', SYSDATE, 'N', 1, 'HONG');
INSERT INTO REPLY VALUES(SEQ_REPLY.NEXTVAL, '댓글', SYSDATE, 'N', 2, 'KANG');
INSERT INTO REPLY VALUES(SEQ_REPLY.NEXTVAL, '댓글', SYSDATE, 'N', 2, 'KANG');
INSERT INTO REPLY VALUES(SEQ_REPLY.NEXTVAL, '댓글', SYSDATE, 'N', 2, 'KANG');
INSERT INTO REPLY VALUES(SEQ_REPLY.NEXTVAL, '댓글', SYSDATE, 'N', 2, 'KANG');
INSERT INTO REPLY VALUES(SEQ_REPLY.NEXTVAL, '댓글', SYSDATE, 'N', 2, 'KANG');
COMMIT;
SELECT * FROM REPLY;

INSERT INTO AFILE VALUES(SEQ_AFILE.NEXTVAL, '서버파일명', '클라이언트파일명', SYSDATE, 'N', 2);
INSERT INTO AFILE VALUES(SEQ_AFILE.NEXTVAL, '서버파일명', '클라이언트파일명', SYSDATE, 'N', 2);
INSERT INTO AFILE VALUES(SEQ_AFILE.NEXTVAL, '서버파일명', '클라이언트파일명', SYSDATE, 'N', 2);
INSERT INTO AFILE VALUES(SEQ_AFILE.NEXTVAL, '서버파일명', '클라이언트파일명', SYSDATE, 'N', 2);
INSERT INTO AFILE VALUES(SEQ_AFILE.NEXTVAL, '서버파일명', '클라이언트파일명', SYSDATE, 'N', 2);
INSERT INTO AFILE VALUES(SEQ_AFILE.NEXTVAL, '서버파일명', '클라이언트파일명', SYSDATE, 'N', 3);
INSERT INTO AFILE VALUES(SEQ_AFILE.NEXTVAL, '서버파일명', '클라이언트파일명', SYSDATE, 'N', 3);
INSERT INTO AFILE VALUES(SEQ_AFILE.NEXTVAL, '서버파일명', '클라이언트파일명', SYSDATE, 'N', 3);
INSERT INTO AFILE VALUES(SEQ_AFILE.NEXTVAL, '서버파일명', '클라이언트파일명', SYSDATE, 'N', 3);
INSERT INTO AFILE VALUES(SEQ_AFILE.NEXTVAL, '서버파일명', '클라이언트파일명', SYSDATE, 'N', 3);
COMMIT;
SELECT * FROM AFILE;







